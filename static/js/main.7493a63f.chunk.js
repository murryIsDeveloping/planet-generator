(this["webpackJsonpray-lightyear"]=this["webpackJsonpray-lightyear"]||[]).push([[0],{73:function(e,t,n){e.exports=n.p+"static/media/bg_0.710cfcbb.jpg"},74:function(e,t,n){e.exports=n.p+"static/media/bg_1.52bbd2e3.jpg"},75:function(e,t,n){e.exports=n.p+"static/media/bg_2.b03cbffa.jpg"},76:function(e,t,n){e.exports=n.p+"static/media/bg_3.83d9eaaa.jpg"},77:function(e,t,n){e.exports=n.p+"static/media/bg_4.7faada7a.jpg"},85:function(e,t,n){e.exports=n(96)},90:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),s=n(66),c=n.n(s),o=(n(90),n(5)),u=n(138),l=n(129),h=n(130),f=n(125),d=n(24),p=n(131),m=n(78),v=n(14),b=n(132),g=n(140),j={prefix:["","Planet ","Quadrant "],postfix:[""," World"," Land"],name:[].concat(["Murry","Jemaine","Bret","Dave","Eugene","Jim","Mel","Greg"],["Darth Vader","Leia","Rey","Luke Skywalker","Obi-Wan Kenobi","Yoda","Chewbacca","Han Solo","RD-D2","C3P0","Jar Jar Binks"],["Rick","Morty","Summer","Beth","Jerry","Sqanchy","Jessica"])},y={prefix:"",postfix:"",exclude:new Set},O=function(e){return function(t){return Object(v.a)(Object(v.a)({},t),{},{prefix:e+t.prefix})}},w=function(e){return function(t){return Object(v.a)(Object(v.a)({},t),{},{postfix:t.postfix+e})}},x={0:w("!"),7:(a="Earth",function(e){return Object(v.a)(Object(v.a)({},e),{},{exclude:new Set([].concat(Object(m.a)(Array.from(e.exclude)),[a]))})}),A:w(" Land"),D:O("Sm"),E:Object(b.a)(O("[ "),w(" ]"))};function k(e){var t=j[e];return t[Math.floor(Math.random()*t.length)]}function E(e){var t=function(e){return e.split("").map((function(e){return x[e.toUpperCase()]||g.a})).reduce((function(e,t){return t(e)}),y)}(e),n=Object(p.a)(t.prefix)?k("prefix"):t.prefix,a=Object(p.a)(t.postfix)?k("postfix"):t.postfix;return n+function e(t){var n=k("name");return t.has(n)?e(t):n}(t.exclude)+a}var S=n(1),N=n(3),R=n(67),C=n.n(R),D=function(){function e(t,n){Object(S.a)(this,e),this.noise=void 0,this.noiseScale=void 0,this.noise=new C.a(t),this.noiseScale=n}return Object(N.a)(e,[{key:"set",value:function(e){return this.noise.noise3D(e.x*this.noiseScale,e.y*this.noiseScale,e.z*this.noiseScale)/2+.5}}]),e}(),M=(n(63),function(){function e(t){Object(S.a)(this,e),this.value=t}return Object(N.a)(e,[{key:"next",value:function(){for(var e=0,t=btoa(this.value),n=0;n<t.length;n++){var a=t.charCodeAt(n);e+=a>=90?.99999:a<=32?1e-5:(a-32)/58}var r=e%1,i=r.toString();return this.value+=i[i.length-1],r}}]),e}());var L=n(12);function A(e){return new L.a(16777215*e.next())}function I(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=0,a=[];n<1;){n+=e.next()/t;var r=A(e);a.push({offset:n>1?1:n,color:r})}return a}function P(e){return{metalness:.4*e.next(),opacity:e.next()/2+.3,roughness:1*e.next(),flatShading:!0,transparent:!0,color:A(e)}}function B(e){return{opacity:e.next(),roughness:2*e.next(),flatShading:!0,transparent:!0,color:A(e)}}function z(e){return{metalness:e.next(),opacity:.9,roughness:2*e.next(),flatShading:!0,transparent:!0,color:new L.a(3355443)}}function F(e,t){return{metalness:.5*t,roughness:1*e.next(),flatShading:!0,color:A(e),vertexColors:!0}}function T(e,t){return{terrain:F(e,t.metalic),water:P(e),ring:B(e),blackhole:z(e)}}var W=n(114),H=n(115),$=n(116),J=function(e){var t=new M(e.name.toUpperCase());return Object(v.a)(Object(v.a)({},function(e,t){var n=function(t){return function(n){return t(e.next()*n)}},a={metalic:n(g.a),noiseScale:n(g.a),detail:n(Math.floor),waterDetail:n(Math.floor),height:n(g.a),radius:n(Object(W.a)(1)),waterRadiusDif:n(g.a),ring:n(Object(H.a)(.5)),water:n(Object(H.a)(.5)),waterOpacity:n(g.a),ringOpacity:n(g.a),ringRadiusDif:n(g.a),ringSize:n(g.a)};return Object($.a)(a,t)}(t,e)),{},{materials:T(t,e),colors:I(t)})},q=function(){function e(t){Object(S.a)(this,e),this.planetConfig=t,this.name=this.planetConfig.name,this.price=0,this.status=void 0,this.seed=new M(this.name.toUpperCase()),this.style=void 0,this.resources={liquid:0,gas:0,minerals:0,ring:0},this.calculate()}return Object(N.a)(e,[{key:"calculate",value:function(){this.setStatus(),"Not Found"!==this.status&&(this.style=J(this.planetConfig),this.calculateDetails())}},{key:"setStatus",value:function(){if(this.planetConfig.status)this.status=this.planetConfig.status;else{var e=this.seed.next();this.status=e<this.planetConfig.supernovaPercent?"Supernova'd":e<this.planetConfig.soldPercent?"Sold":"For Sale"}}},{key:"calculateDetails",value:function(){this.resources=this.calculateResources(),this.price=this.calculatePrice(this.resources)}},{key:"calculateResources",value:function(){var e=this.style.materials.water.opacity,t=this.style.materials.ring.opacity,n=this.style.water&&e>=.5,a=this.style.water&&e<.5,r=this.style.waterRadiusDif+2*this.style.height;return{liquid:n?r:0,gas:a?r:0,minerals:this.calculateMinerals(),ring:this.style.ring?t/2*this.style.ringSize:0}}},{key:"calculateMinerals",value:function(){var e=this.style.colors.length/8,t=this.style.radius;return 3*this.style.materials.terrain.metalness*e*t/2}},{key:"calculatePrice",value:function(e){return 1e4*Math.round(100*(e.gas+e.liquid+5*e.minerals+e.ring)*this.planetConfig.price)}},{key:"resourceLevel",value:function(e){var t=this.resources[e];return t<.2?"None":t<.4?"Low":t<.6?"Medium":t<.8?"High":"Very High"}}]),e}(),U=n(117),G=function(e){return function(t){return Object(v.a)(Object(v.a)({},t),{},{prefix:e+t.prefix})}},_=function(e){return function(t){return Object(v.a)(Object(v.a)({},t),{},{postfix:t.postfix+e})}},K=function(e,t){return Object($.a)(Object(o.a)({},e,Object(U.a)(t)))},V={0:_("!"),1:K("ring",1.2),2:K("water",.7),3:K("radius",.7),4:K("price",.7),5:K("price",1.4),6:K("metalic",1.2),7:Object($.a)({detail:Object(U.a)(1.3),waterDetail:Object(U.a)(1.3),price:Object(U.a)(1.1)}),8:K("soldPercent",3),9:K("supernovaPercent",5),A:_(" Land"),B:Object($.a)({detail:Object(U.a)(.8),waterDetail:Object(U.a)(.8),price:Object(U.a)(.8)}),C:Object($.a)({background:Object(W.a)(1)}),D:G("Sm"),E:Object(b.a)(G("[ "),_(" ]"),Object($.a)({detail:Object(U.a)(.5)})),F:Object($.a)({price:Object(U.a)(.9),water:Object(U.a)(1.1),waterRadiusDif:Object(W.a)(.2)})};function Q(e,t){return function(e){var t=e.name,n=e.prefix,a=e.postfix,r=e.validName,i=t.startsWith(n)&&t.endsWith(a);return Object(v.a)(Object(v.a)({},e),{},{status:i&&r?e.status:"Not Found"})}(t.split("").map((function(e){return V[e.toUpperCase()]||g.a})).reduce((function(e,t){return t(e)}),function(e){return{metalic:1,status:null,validName:!0,prefix:"",postfix:"",name:e,background:0,noiseScale:2,detail:30,waterDetail:30,height:.5,radius:2,waterRadiusDif:0,ring:.7,water:1,waterOpacity:1,ringOpacity:1,ringRadiusDif:1,ringSize:1,soldPercent:.25,supernovaPercent:.025,price:1}}(e)))}var Y=n(123),X=n(124),Z=n(137),ee=n(44),te=n(121),ne=n(136),ae=n(122),re=n(119),ie=n(135),se=n(133),ce=n(118),oe=n(26),ue=n(120),le=n(142),he=Object(ce.a)(document,"keydown").pipe(Object(re.a)((function(e){return"Space"===e.code})),Object(le.a)((function(e){return e.preventDefault()}))),fe=new oe.a,de=new oe.a,pe=new ue.a(!1),me=n(139),ve=fe.pipe(Object(Z.a)(500),Object(ee.a)((function(e){return e.trim()})),Object(te.a)()),be=de.pipe(Object(Z.a)(500),Object(ee.a)((function(e){return e.trim()})),Object(te.a)(),Object(ne.a)("")),ge=he.pipe(Object(ae.a)(pe),Object(re.a)((function(e){var t=Object(d.a)(e,2);t[0];return!t[1]})),Object(ae.a)(be),Object(ee.a)(me.a),Object(ee.a)(E)),je=Object(Y.a)(ve,ge).pipe(Object(te.a)(),Object(ie.a)()),ye={planet$:Object(X.a)([je,be]).pipe(Object(ne.a)([E(""),""]),Object(ee.a)((function(e){var t=Object(d.a)(e,2);return Q(t[0],t[1])})),Object(ee.a)((function(e){return new q(e)})),Object(se.a)(1)),planetName$:je,demensionName$:be,setPlanet:function(e){return fe.next(e)},setDimension:function(e){return de.next(e)}},Oe=n(62),we=Object(f.a)((function(e){return{search:Object(o.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Oe.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Oe.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1)}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"}}})),xe=n(134),ke=n(127);function Ee(){var e=we(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],s=n[1];return i.a.createElement("div",{className:e.search},i.a.createElement("div",{className:e.searchIcon},i.a.createElement(ke.a,null)),i.a.createElement(xe.a,{placeholder:"Dimension",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"Search Dimensions"},onChange:function(e){var t=e.target.value;(/^[0-9a-f]+$/.test(t)||""===t)&&(s(t),ye.setDimension(t))},onFocus:function(e){pe.next(!0)},onBlur:function(e){pe.next(!1)},value:a}))}var Se=n(128);function Ne(){var e=we(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){var e=ye.planetName$.subscribe(s);return function(){return e.unsubscribe()}}),[]),i.a.createElement("div",{className:e.search},i.a.createElement("div",{className:e.searchIcon},i.a.createElement(Se.a,null)),i.a.createElement(xe.a,{placeholder:"Planet",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"Search Planets"},onChange:function(e){var t=e.target.value;s(t),ye.setPlanet(t)},onFocus:function(e){pe.next(!0)},onBlur:function(e){pe.next(!1)},value:a}))}var Re=Object(f.a)((function(e){return{root:{flexGrow:1},title:{fontSize:"30px",fontFamily:["Anton","san-serif"].join(","),textAlign:"left",width:"100%"}}}));function Ce(){var e=Re();return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:e.root},i.a.createElement(u.a,{position:"static"},i.a.createElement(l.a,null,i.a.createElement(h.a,{className:e.title,variant:"h6",noWrap:!0},"Ray Lightyear"),i.a.createElement(Ne,null),i.a.createElement(Ee,null)))))}var De,Me=n(72);!function(e){e.TERRAIN="terrain",e.WATER="water",e.RING="ring",e.BLACKHOLE="black hole"}(De||(De={}));var Le=function(){function e(){Object(S.a)(this,e),this.style=void 0}return Object(N.a)(e,[{key:"mesh",value:function(e,t){switch(this.style=t,e){case"Not Found":return[];case"Supernova'd":return[this.blackHoleMesh()];default:return this.planetMesh()}}},{key:"planetMesh",value:function(){var e=[this.terrainMesh()];return this.style.water&&e.push(this.waterMesh()),this.style.ring&&e.push(this.ringMesh()),e}},{key:"terrainMesh",value:function(){var e=new L.c(this.style.radius,this.style.detail);this.generateTerrain(e),this.paintTerrain(e);var t=new L.e(this.style.materials.terrain);e.elementsNeedUpdate=!0;var n=new L.d(e,t);return n.name=De.TERRAIN,n}},{key:"waterMesh",value:function(){var e=this.style.radius+this.style.waterRadiusDif,t=new L.c(e,this.style.waterDetail),n=new L.e(this.style.materials.water),a=new L.d(t,n);return a.name=De.WATER,a}},{key:"ringMesh",value:function(){var e=this.style.radius+this.style.ringRadiusDif+.5,t=new L.i(e,this.style.ringSize,3,15),n=new L.e(this.style.materials.ring),a=new L.d(t,n);return a.rotation.y+=.2,a.rotation.x+=1.4,a.name=De.RING,a}},{key:"blackHoleMesh",value:function(){var e=new L.j(1,.3,100,20,9,8),t=new L.e(this.style.materials.blackhole),n=new L.d(e,t);return n.name=De.BLACKHOLE,n}},{key:"faceLength",value:function(e,t){var n=function(n){return e.vertices[t[n]].length()};return(n("a")+n("b")+n("c"))/3}},{key:"generateTerrain",value:function(e){var t=this,n=new D(this.style.name.toUpperCase(),this.style.noiseScale);e.vertices.forEach((function(e){var a=n.set(e);e.setLength(t.newLength(a))}))}},{key:"newLength",value:function(e){return 2*(e-.5)*this.style.height+this.style.radius}},{key:"originalLength",value:function(e){return(e-this.style.radius)/2/this.style.height+.5}},{key:"paintTerrain",value:function(e){var t,n=this,a=Object(Me.a)(e.faces);try{var r=function(){var a=t.value,r=n.faceLength(e,a),i=n.originalLength(r),s=n.style.colors.find((function(e){return e.offset>=i})).color;a.color=s};for(a.s();!(t=a.n()).done;)r()}catch(i){a.e(i)}finally{a.f()}}}]),e}(),Ae=n(73),Ie=n.n(Ae),Pe=n(74),Be=n.n(Pe),ze=n(75),Fe=n.n(ze),Te=n(76),We=n.n(Te),He=n(77),$e=n.n(He),Je=[Ie.a,Be.a,Fe.a,We.a,$e.a],qe=new(function(){function e(){Object(S.a)(this,e),this.init=!1,this.scene=new L.g,this.renderer=new L.k,this.camera=new L.f(75,1,.1,1e3),this.mesh=[],this.superNovaMesh=void 0,this.meshRenderer=new Le,this.backgroundImage=void 0}return Object(N.a)(e,[{key:"createScene",value:function(e){this.init=!0,this.setBackground(0),this.camera.position.z=6,this.renderer.setSize(window.innerWidth,window.innerHeight),e.appendChild(this.renderer.domElement);var t=new L.b(16777215,.95);t.position.set(0,2,2).normalize(),this.scene.add(t),this.animate()}},{key:"setBackground",value:function(e){var t=Je[e%Je.length];if(t!==this.backgroundImage){var n=(new L.h).load(t);this.scene.background=n,this.backgroundImage=t}}},{key:"addPlanet",value:function(e){var t=this;if(this.removeActiveMesh(),"Not Found"!==e.status){this.setBackground(e.style.background),this.mesh=this.meshRenderer.mesh(e.status,e.style),this.mesh.forEach((function(e){return t.scene.add(e)}));var n=window.innerWidth,a=n,r=Math.min(n/2-80,window.innerHeight-75),i=n>=960?r:a;this.renderer.domElement.style.width="".concat(i,"px"),this.renderer.domElement.style.height="".concat(i,"px")}}},{key:"removeActiveMesh",value:function(){var e=this;this.mesh.forEach((function(t){return e.scene.remove(t)}))}},{key:"animate",value:function(){var e=this,t=function t(){requestAnimationFrame(t),e.mesh.forEach((function(e){e.name!==De.TERRAIN&&e.name!==De.WATER||(e.rotation.y+=.005),e.name!==De.RING&&e.name!==De.BLACKHOLE||(e.rotation.z+=.005)})),e.renderer.render(e.scene,e.camera)};t()}}]),e}()),Ue=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){var t=e.subscribe(i);return function(){return t.unsubscribe()}}),[e]),a},Ge=Object(f.a)((function(e){return{wrapper:{overflow:"hidden",position:"relative"},banner:{position:"absolute",fontSize:"45px",textTransform:"uppercase",backgroundColor:"red",color:"white",transform:"rotate(-40deg)",padding:"20px 150px",top:"70px",left:"-135px",width:"200px",textAlign:"center",fontFamily:["Anton","san-serif"].join(",")}}}));function _e(){var e=Ge(),t=Object(r.useRef)(null),n=Ue(ye.planet$);return t.current&&!qe.init&&qe.createScene(t.current),n&&qe.addPlanet(n),i.a.createElement("div",{className:e.wrapper},i.a.createElement("div",{className:e.banner},null===n||void 0===n?void 0:n.status),i.a.createElement("div",{ref:t}))}var Ke=Object(f.a)((function(e){return{details:{padding:"30px",letterSpacing:"3px"},title:{fontSize:"34px"},resources:{listStyle:"none",fontSize:"20px"},resource:{textTransform:"capitalize",fontWeight:"bold"}}}));function Ve(){var e=Ke(),t=Ue(ye.planet$),n="Not Found"===(null===t||void 0===t?void 0:t.status)||"Supernova'd"===(null===t||void 0===t?void 0:t.status),a=n?null:i.a.createElement("h2",{className:e.title},"$",null===t||void 0===t?void 0:t.price.toLocaleString()),r=n?null:i.a.createElement("ul",{className:e.resources},["minerals","liquid","gas","ring"].map((function(n,a){return i.a.createElement("li",{key:a,className:e.resource},n,": ",null===t||void 0===t?void 0:t.resourceLevel(n))})));return i.a.createElement("div",{className:e.details},i.a.createElement("h1",{className:e.title},null===t||void 0===t?void 0:t.name),a,i.a.createElement("h2",null,function(e,t){switch(e){case"Not Found":return"I'm afriad that ".concat(t," can't be found");case"Supernova'd":return"".concat(t," has Supernova'd. Now it looks like it may just be the beginings of a black hole");default:return"".concat(e)}}(null===t||void 0===t?void 0:t.status,null===t||void 0===t?void 0:t.name)),r)}var Qe=Object(f.a)((function(e){return{planet:Object(o.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 80px"},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column"}),spaceBarMessage:{backgroundColor:"#ddd",padding:"20px",textAlign:"center",gridColumnStart:1,gridColumnEnd:3}}}));var Ye=function(){var e=Qe();return i.a.createElement("div",null,i.a.createElement(Ce,null),i.a.createElement("div",{className:e.planet},i.a.createElement(_e,null),i.a.createElement(Ve,null),i.a.createElement("aside",{className:e.spaceBarMessage},'Click the "Space" Bar to randomly search through some of our planets!')))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[85,1,2]]]);
//# sourceMappingURL=main.7493a63f.chunk.js.map